<!-- all-agreemen-generate.component.html -->
<app-admin-header></app-admin-header>
<div class="container mt-5">
    <h2>List of Rental Car Agreements</h2>
  
    <!-- Display rental car details in a table with Bootstrap classes -->
    <table class="table table-striped table-bordered">
      <thead class="thead-dark">
        <tr>
          <th>Rental Agreemnet ID</th>
          <th>Vehicle ID</th>
          <th>Maker</th>
          <th>Model</th>
          <th>Rental Price</th>
          <th>Car Image</th>
          <th>User ID</th>
          <th>Name</th>
          <th>Email</th>
         
          <th>Phone Number</th>
          <th>Address</th>
          <th>Start Rental Duration</th>
          <th>End Rental Duration</th>
          <th>Is Returned</th>
          <th>Accept Return</th>
          <th>Request For Return</th>
        </tr>
      </thead>
      <tbody>
        <!-- Loop through the AllRentalCarDetails array and display each item -->
        <tr *ngFor="let carDetail of AllRentalCarDetails">
          <td>{{ carDetail.rentalAgreementId}}</td>
          <td>{{ carDetail.vehicleId }}</td>
          <td>{{ carDetail.maker }}</td>
          <td>{{ carDetail.model }}</td>
          <td>{{ carDetail.rentalPrice }}</td>
          <!-- <td>{{ carDetail.availabilityStatus }}</td> -->
          <td>
            <img src="{{ carDetail.carImage }}" class="img-fluid" alt="Car Image">
          </td>
          <td>{{ carDetail.userId }}</td>
          <td>{{ carDetail.name }}</td>
          <td>{{ carDetail.email }}</td>
          <!-- <td>{{ carDetail.password }}</td> -->
          <td>{{ carDetail.phoneNumber }}</td>
          <td>{{ carDetail.address }}</td>
          <td>{{ carDetail.startRentalDuration
        }}</td>
          <td>{{ carDetail.endRentalDuration
        }}</td>
        <td>{{ carDetail.isReturned }}</td>
        <div *ngIf="carDetail.requestForReturn=='true'">
          <button class="btn btn-success"  (click)="changeAvailabilityStatus(carDetail)">Accept</button>
          <div  class="text-success">
           
            Requested
          </div>
        </div>
        <div *ngIf="carDetail.requestForReturn=='false'" class="alert alert-info text-danger">
          <!-- <td>{{ carDetail.isReturned }}</td> -->
          Not Requested
        </div>
         
          <td>{{ carDetail.requestForReturn }}</td>
          <td> <button class="btn btn-success" (click)="editCar(carDetail)" routerLink="'/agreementedit'"routerLink="/login"
            [queryParams]="{ JAcar: JSON.stringify(carDetail) }"> Update</button>
            <br>
            <br>
            <button class="btn btn-danger" (click)="DeleteAgreement(carDetail)" 
            > Delete</button>
          </td>
           
        </tr>
      </tbody>
    </table>
  </div>
  